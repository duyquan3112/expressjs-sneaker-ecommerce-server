"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const error_handler_middleware_1 = require("../../middlewares/error-handler.middleware");
const product_controller_1 = require("./product.controller");
const validators_middleware_1 = require("../../middlewares/validators.middleware");
const product_model_1 = require("./models/product.model");
const productRouter = (0, express_1.Router)();
productRouter.get("/all", (0, error_handler_middleware_1.catchAsync)(product_controller_1.ProductController.getAllProducts));
productRouter.get("/:id", (0, error_handler_middleware_1.catchAsync)(product_controller_1.ProductController.getProductById));
productRouter.post("/create", validators_middleware_1.Validator.ProductValidator(product_model_1.createProductValidateSchema), (0, error_handler_middleware_1.catchAsync)(product_controller_1.ProductController.createProduct));
productRouter.patch("/update/:id", validators_middleware_1.Validator.ProductValidator(product_model_1.updateProductValidateSchema), (0, error_handler_middleware_1.catchAsync)(product_controller_1.ProductController.updateProduct));
productRouter.get("/search", (0, error_handler_middleware_1.catchAsync)(product_controller_1.ProductController.searchProducts));
productRouter.delete("/delete/:id", (0, error_handler_middleware_1.catchAsync)(product_controller_1.ProductController.deleteProduct));
exports.default = productRouter;
